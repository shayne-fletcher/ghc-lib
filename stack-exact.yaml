# To use this, the command you want is:
#  stack runhaskell \
#    --stack-yaml stack-exact.yaml \
#    --package extra --package optparse-applicative \
#    CI.hs -- \
#    --stack-yaml stack-exact.yaml --ghc-flavor xxx
# You can add --resolver xxx to the above command to have the effect
# of overriding the choice of compiler if desired.

resolver: ghc-9.6.1

ghc-options:
  # Try to be quick.
  "$everything": -O0 -j

extra-deps:
# Dependencies of ghc-lib-parser & ghc-lib:
- alex-3.2.7.1
- happy-1.20.1.1
# Dependencies for ghc-lib examples:
- data-array-byte-0.1.0.1
- hashable-1.4.2.0
- syb-0.7.2.2
- uniplate-1.6.13
- unordered-containers-0.2.19.1
# Additional dependencies for CI.hs & ghc-lib-gen:
- ansi-terminal-0.11.4
- ansi-wl-pprint-0.6.9
- clock-0.8.3
- colour-2.3.6
- extra-1.7.12
- optparse-applicative-0.17.0.0
- transformers-compat-0.7.2
# Dependencies (not already covered) for tests
- tagged-0.8.7
- call-stack-0.4.0
- tasty-1.4.3
- tasty-hunit-0.10.0.3
- typed-process-0.2.10.1
- utf8-string-1.0.2
- async-2.2.4
- temporary-1.3
- unbounded-delays-0.1.1.1
- unix-compat-0.6
- wcwidth-0.0.2

# Packages MUST go at the end, since we append to it during the CI.hs
# script.
packages:
- .
